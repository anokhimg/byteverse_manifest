version: 0.1.0
jobId: "1"
jobName: PMS Test V6
jobType: Source Aligned Data Product
alias: Trial_End_To_End_3
discoveryPort:
  name: Aneree Chained Product
  description: ""
  category: ""
  image: https://google.com
  autofillUserinfo: ""
  tags: []
  extra: {}
  shortDescription: This is an ultra short description
  industryDomain: "PMS"
  function: "PMS"
  regulatoryFields:
    dataPrivacy: public
    customerInfo: nonPII
    dataOrigin: machineGenerated
    monetaryInfo: nonFinancialData  
inputPorts:
  - alias: PMS_Transactions_1
    description: PMS Transactions
    tags: []
    extra: {}
    syncType: pull
    type: 'dataproduct'
    dataProductUrn: urn:dv:dataproduct:4a94ef6b-f495-4294-ad62-0779932f1949
    filter: ""
    projection: []
productState:
  alias: Load_final_PMS_State_final
  refreshInterval: "0 * * * *"
  retentionVersions: ""
  updateStrategy: append
  logicalSchema:
    properties:
      DNID:
        type: STRING
      DNName:
        type: STRING
      NEName:
        type: STRING
      InitTime:
        type: STRING
      State:
        type: STRING
      City:
        type: STRING
  productStoreState:
    enforceSchemaMethod: Warning
  isProfilingEnabled: true
transformation:
  - alias: Spark_SQL_1
    type: SQL
    description: Join transaction and master
    query: select * from pmstransaction
    references:
      - alias: PMS_Transactions_1
        sqlReference: pmstransaction
controlPort:
  dataQualityRules:
    RecordCountCheck:
      productState:
        expression: "<="
        number: 227
        referenceAlias: Load_final_PMS_State_final_v6
    NullValueCheck:
      productState:
        checks:
          - column: NEName
            expression: ==
            number: 1
            stepsToFix: Fix on your own
        referenceAlias: Load_final_PMS_State_final_v6
outputPort:
  subscriptionChannels:
    - channelType: JDBC
      queryType: SQL
