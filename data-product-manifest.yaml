version: 0.0.2
jobId: "1255"
jobName: Test ADP - 13 Dec
jobType: Aggregated Data Product
alias: test
discoveryPort:
  name: Test ADP - 13 Dec
inputPorts:
  - alias: Weather_API_Daily_8Sept_1
    isDynamic: true
    dataProductUrn: urn:dv:dataproduct:eda34191-7924-42fe-a2c2-b8c496ca7834
    projection: test
    filter: test
    warehousePath: "***s3StateBucket***"
    type: readDataIceberg
    catalogName: glue
    optional:
      persistDataFrame: false
      advanceOptions:
        endPoint: s3.undefined.amazonaws.com
        accessKey: abc
        secretKey: abc
      dataProductUrn: urn:dv:dataproduct:eda34191-7924-42fe-a2c2-b8c496ca7834
    tableName: select test from
      glue.***catalogReference***.`eda34191-7924-42fe-a2c2-b8c496ca7834` where
      test
productState:
  isDynamic: true
  alias: test
  retentionVersions: ""
  logicalSchema:
    properties:
      city:
        type: STRING
        description: ""
  stateStoreType: saveTableDB
  isProfilingEnabled: true
  updateStrategy: Overwrite
  connection: ""
  tableName: test
  optional:
    persistDataFrame: false
    addRunIdColumn: false
    enableDataReconciliation: false
    enforceSchema: false
  refreshInterval: 0 10 1 10 *
transformation:
  - alias: EMR_PySpark_1
    arguments: ""
    pythonFilePath: test
    optional:
      pythonExtraZipFilePath: test
      pythonEnvTarGZPath: test
    type: customPySparkEMRServerless
    sequence: 2
    references:
      - alias: Weather_API_Daily_8Sept_1
        sqlReference: test
    query: select * from usersS3
controlPort:
  dataQualityRules: {}
outputPort:
  subscriptionChannels:
    - channelType: Postgres
      queryType: SQL
